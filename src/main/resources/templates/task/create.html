<html xmlns:th="" xmlns:layout=""
      layout:decorator="_layouts/default">
<head>
    <title th:text="#{title.task.index}"></title>
</head>
<body>

<div layout:fragment="content">

<form th:action="@{/task/create-save}" th:object="${taskCreateForm}" method="post">
    <div class="alert alert-danger" th:if="${#fields.hasErrors('global')}" th:errors="*{global}">Error</div>

    <div th:replace="_fragments/form :: input-text(field = 'name', label = #{task.name}, autofocus = true)"></div>

    <div class="form-group has-feedback" th:classappend="${#fields.hasErrors('status')}? 'has-error'">
        <label class="control-label" th:for="status" th:text="#{task.status}"></label>
        <select class="form-control" th:field="*{status}" aria-describedby="status-status">
            <option th:each="status : ${allTaskStatus}"
                    th:value="${status.code}"
                    th:text="${{status}}"></option>
        </select>
        <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true" th:if="${#fields.hasErrors('status')}"></span>
        <span id="status-status" class="sr-only">(error)</span>
        <div class="help-block" th:if="${#fields.hasErrors('status')}" th:errors="*{status}">Error</div>
    </div>

    <button type="submit" class="btn btn-primary"><i th:replace="_fragments/fa :: fa-fw(check)"></i>&#160;<span th:text="#{general.save}"></span></button>
</form>

</div>

</body>
</html>
